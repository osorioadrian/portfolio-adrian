---
interface ExperiencesInfoTexts {
  experience: string
  title: string
  desc: string,
  talk: string
}

interface ExperiencesTexts {
  company: string
  date: string
  role: string
  tags: string[]
  isSpecial: boolean
}

interface Props {
  experiences: ExperiencesTexts[],
  experiencesInfo: ExperiencesInfoTexts
}

const { experiences, experiencesInfo } = Astro.props as Props
---

<section class="bg-[#F9F9F9] py-24 px-6 md:px-24 text-black">
  <div class="max-w-7xl mx-auto">
    <div class="flex flex-col md:flex-row justify-between items-start mb-16 gap-8">
      <div>
        <div class="flex items-center gap-2 mb-4">
          <div class="w-2 h-2 rounded-full bg-black"></div>
          <span class="text-sm font-medium">{ experiencesInfo.experience }</span>
        </div>
        <h2 class="text-5xl font-medium max-w-md leading-tight">{ experiencesInfo.title }</h2>
      </div>
      <div class="max-w-md">
        <p class="text-gray-500 mb-6">{ experiencesInfo.desc }</p>
        <a href="#contact" class="inline-flex items-center border-b border-black pb-1 font-medium hover:opacity-60 transition-opacity">
          { experiencesInfo.talk } <span class="ml-2 text-xs">↗</span>
        </a>
      </div>
    </div>

    <div class="flex flex-col">
      {experiences.map((exp) => (
        <div class="border-t border-black/10 py-10 group">
          <div class="grid grid-cols-1 md:grid-cols-[1.5fr_1.5fr_0.8fr] gap-6 items-start">
            
            <div>
              <h3 class="text-xl font-medium mb-2">{exp.company}</h3>
              <p class="text-gray-400 text-sm">• {exp.date}</p>
            </div>

            <div class="text-gray-500 text-sm leading-relaxed max-w-sm">
              {exp.role}
            </div>

            <div class="flex justify-end gap-2">
              {exp.tags.map((tag) => (
                <span class={`px-4 py-1.5 rounded-full text-xs border ${exp.isSpecial ? 'bg-black text-white border-black' : 'border-black/10 text-gray-500'}`}>
                  {tag}
                </span>
              ))}
              
              {exp.isSpecial && (
                <div class="ml-4 w-12 h-12 rounded-full bg-black flex items-center justify-center text-white cursor-pointer hover:scale-110 transition-transform">
                   <span class="rotate-45 text-lg">↑</span>
                </div>
              )}
            </div>

          </div>
        </div>
      ))}
    </div>
  </div>
</section>